// https://d3js.org/d3-geo/ Version 1.2.4. Copyright 2016 Mike Bostock.
(function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],t):t(n.d3=n.d3||{},n.d3)})(this,function(n,t){"use strict";function r(){return new i}function i(){this.reset()}function e(n,t,r){var i=n.s=t+r,e=i-t,o=i-e;n.t=t-o+(r-e)}function o(n){return n>1?0:n<-1?vr:Math.acos(n)}function u(n){return n>1?dr:n<-1?-dr:Math.asin(n)}function a(n){return(n=Pr(n/2))*n}function c(){}function l(n,t){n&&Lr.hasOwnProperty(n.type)&&Lr[n.type](n,t)}function f(n,t,r){var i,e=-1,o=n.length-r;for(t.lineStart();++e<o;)i=n[e],t.point(i[0],i[1],i[2]);t.lineEnd()}function p(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)f(n[r],t,1);t.polygonEnd()}function s(n,t){n&&zr.hasOwnProperty(n.type)?zr[n.type](n,t):l(n,t)}function h(){kr.point=v}function g(){d(Ot,Tt)}function v(n,t){kr.point=d,Ot=n,Tt=t,n*=mr,t*=mr,kt=n,Gt=Nr(t=t/2+Er),Ft=Pr(t)}function d(n,t){n*=mr,t*=mr,t=t/2+Er;var r=n-kt,i=r>=0?1:-1,e=i*r,o=Nr(t),u=Pr(t),a=Ft*u,c=Gt*o+a*Nr(e),l=a*i*Pr(e);Or.add(_r(l,c)),kt=n,Gt=o,Ft=u}function E(n){return Tr.reset(),s(n,kr),2*Tr}function S(n){return[_r(n[1],n[0]),u(n[2])]}function y(n){var t=n[0],r=n[1],i=Nr(r);return[i*Nr(t),i*Pr(t),Pr(r)]}function m(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function x(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function M(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function _(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function N(n){var t=qr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function w(n,t){Qt.push(Vt=[It=n,Dt=n]),t<Bt&&(Bt=t),t>Ut&&(Ut=t)}function R(n,t){var r=y([n*mr,t*mr]);if(Kt){var i=x(Kt,r),e=[i[1],-i[0],0],o=x(e,i);N(o),o=S(o);var u,a=n-Zt,c=a>0?1:-1,l=o[0]*yr*c,f=xr(a)>180;f^(c*Zt<l&&l<c*n)?(u=o[1]*yr,u>Ut&&(Ut=u)):(l=(l+360)%360-180,f^(c*Zt<l&&l<c*n)?(u=-o[1]*yr,u<Bt&&(Bt=u)):(t<Bt&&(Bt=t),t>Ut&&(Ut=t))),f?n<Zt?b(It,n)>b(It,Dt)&&(Dt=n):b(n,Dt)>b(It,Dt)&&(It=n):Dt>=It?(n<It&&(It=n),n>Dt&&(Dt=n)):n>Zt?b(It,n)>b(It,Dt)&&(Dt=n):b(n,Dt)>b(It,Dt)&&(It=n)}else w(n,t);Kt=r,Zt=n}function A(){Fr.point=R}function j(){Vt[0]=It,Vt[1]=Dt,Fr.point=w,Kt=null}function P(n,t){if(Kt){var r=n-Zt;Gr.add(xr(r)>180?r+(r>0?360:-360):r)}else Ht=n,Jt=t;kr.point(n,t),R(n,t)}function C(){kr.lineStart()}function q(){P(Ht,Jt),kr.lineEnd(),xr(Gr)>hr&&(It=-(Dt=180)),Vt[0]=It,Vt[1]=Dt,Kt=null}function b(n,t){return(t-=n)<0?t+360:t}function z(n,t){return n[0]-t[0]}function L(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function O(n){var t,r,i,e,o,u,a;if(Ut=Dt=-(It=Bt=1/0),Qt=[],s(n,Fr),r=Qt.length){for(Qt.sort(z),t=1,i=Qt[0],o=[i];t<r;++t)e=Qt[t],L(i,e[0])||L(i,e[1])?(b(i[0],e[1])>b(i[0],i[1])&&(i[1]=e[1]),b(e[0],i[1])>b(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-(1/0),r=o.length-1,t=0,i=o[r];t<=r;i=e,++t)e=o[t],(a=b(i[1],e[0]))>u&&(u=a,It=e[0],Dt=i[1])}return Qt=Vt=null,It===1/0||Bt===1/0?[[NaN,NaN],[NaN,NaN]]:[[It,Bt],[Dt,Ut]]}function T(n,t){n*=mr,t*=mr;var r=Nr(t);k(r*Nr(n),r*Pr(n),Pr(t))}function k(n,t,r){++Wt,Yt+=(n-Yt)/Wt,$t+=(t-$t)/Wt,nr+=(r-nr)/Wt}function G(){Ir.point=F}function F(n,t){n*=mr,t*=mr;var r=Nr(t);lr=r*Nr(n),fr=r*Pr(n),pr=Pr(t),Ir.point=I,k(lr,fr,pr)}function I(n,t){n*=mr,t*=mr;var r=Nr(t),i=r*Nr(n),e=r*Pr(n),o=Pr(t),u=_r(qr((u=fr*o-pr*e)*u+(u=pr*i-lr*o)*u+(u=lr*e-fr*i)*u),lr*i+fr*e+pr*o);Xt+=u,tr+=u*(lr+(lr=i)),rr+=u*(fr+(fr=e)),ir+=u*(pr+(pr=o)),k(lr,fr,pr)}function B(){Ir.point=T}function D(){Ir.point=Z}function U(){H(ar,cr),Ir.point=T}function Z(n,t){ar=n,cr=t,n*=mr,t*=mr,Ir.point=H;var r=Nr(t);lr=r*Nr(n),fr=r*Pr(n),pr=Pr(t),k(lr,fr,pr)}function H(n,t){n*=mr,t*=mr;var r=Nr(t),i=r*Nr(n),e=r*Pr(n),u=Pr(t),a=fr*u-pr*e,c=pr*i-lr*u,l=lr*e-fr*i,f=qr(a*a+c*c+l*l),p=lr*i+fr*e+pr*u,s=f&&-o(p)/f,h=_r(f,p);er+=s*a,or+=s*c,ur+=s*l,Xt+=h,tr+=h*(lr+(lr=i)),rr+=h*(fr+(fr=e)),ir+=h*(pr+(pr=u)),k(lr,fr,pr)}function J(n){Wt=Xt=Yt=$t=nr=tr=rr=ir=er=or=ur=0,s(n,Ir);var t=er,r=or,i=ur,e=t*t+r*r+i*i;return e<gr&&(t=tr,r=rr,i=ir,Xt<hr&&(t=Yt,r=$t,i=nr),e=t*t+r*r+i*i,e<gr)?[NaN,NaN]:[_r(r,t)*yr,u(i/qr(e))*yr]}function K(n){return function(){return n}}function Q(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return r=t.invert(r,i),r&&n.invert(r[0],r[1])}),r}function V(n,t){return[n>vr?n-Sr:n<-vr?n+Sr:n,t]}function W(n,t,r){return(n%=Sr)?t||r?Q(Y(n),$(t,r)):Y(n):t||r?$(t,r):V}function X(n){return function(t,r){return t+=n,[t>vr?t-Sr:t<-vr?t+Sr:t,r]}}function Y(n){var t=X(n);return t.invert=X(-n),t}function $(n,t){function r(n,t){var r=Nr(t),c=Nr(n)*r,l=Pr(n)*r,f=Pr(t),p=f*i+c*e;return[_r(l*o-p*a,c*i-f*e),u(p*o+l*a)]}var i=Nr(n),e=Pr(n),o=Nr(t),a=Pr(t);return r.invert=function(n,t){var r=Nr(t),c=Nr(n)*r,l=Pr(n)*r,f=Pr(t),p=f*o-l*a;return[_r(l*o+f*a,c*i+p*e),u(p*i-c*e)]},r}function nn(n){function t(t){return t=n(t[0]*mr,t[1]*mr),t[0]*=yr,t[1]*=yr,t}return n=W(n[0]*mr,n[1]*mr,n.length>2?n[2]*mr:0),t.invert=function(t){return t=n.invert(t[0]*mr,t[1]*mr),t[0]*=yr,t[1]*=yr,t},t}function tn(n,t,r,i,e,o){if(r){var u=Nr(t),a=Pr(t),c=i*r;null==e?(e=t+i*Sr,o=t-c/2):(e=rn(u,e),o=rn(u,o),(i>0?e<o:e>o)&&(e+=i*Sr));for(var l,f=e;i>0?f>o:f<o;f-=c)l=S([u,-a*Nr(f),-a*Pr(f)]),n.point(l[0],l[1])}}function rn(n,t){t=y(t),t[0]-=n,N(t);var r=o(-t[1]);return((-t[2]<0?-r:r)+Sr-hr)%Sr}function en(){function n(n,t){r.push(n=i(n,t)),n[0]*=yr,n[1]*=yr}function t(){var n=e.apply(this,arguments),t=o.apply(this,arguments)*mr,c=u.apply(this,arguments)*mr;return r=[],i=W(-n[0]*mr,-n[1]*mr,0).invert,tn(a,t,c,1),n={type:"Polygon",coordinates:[r]},r=i=null,n}var r,i,e=K([0,0]),o=K(90),u=K(6),a={point:n};return t.center=function(n){return arguments.length?(e="function"==typeof n?n:K([+n[0],+n[1]]),t):e},t.radius=function(n){return arguments.length?(o="function"==typeof n?n:K(+n),t):o},t.precision=function(n){return arguments.length?(u="function"==typeof n?n:K(+n),t):u},t}function on(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:c,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function un(n,t,r,i,e,o){var u,a=n[0],c=n[1],l=t[0],f=t[1],p=0,s=1,h=l-a,g=f-c;if(u=r-a,h||!(u>0)){if(u/=h,h<0){if(u<p)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>p&&(p=u)}if(u=e-a,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>p&&(p=u)}else if(h>0){if(u<p)return;u<s&&(s=u)}if(u=i-c,g||!(u>0)){if(u/=g,g<0){if(u<p)return;u<s&&(s=u)}else if(g>0){if(u>s)return;u>p&&(p=u)}if(u=o-c,g||!(u<0)){if(u/=g,g<0){if(u>s)return;u>p&&(p=u)}else if(g>0){if(u<p)return;u<s&&(s=u)}return p>0&&(n[0]=a+p*h,n[1]=c+p*g),s<1&&(t[0]=a+s*h,t[1]=c+s*g),!0}}}}}function an(n,t){return xr(n[0]-t[0])<hr&&xr(n[1]-t[1])<hr}function cn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function ln(n,t,r,i,e){var o,u,a=[],c=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r,i=n[0],u=n[t];if(an(i,u)){for(e.lineStart(),o=0;o<t;++o)e.point((i=n[o])[0],i[1]);return void e.lineEnd()}a.push(r=new cn(i,n,null,!0)),c.push(r.o=new cn(i,null,r,!1)),a.push(r=new cn(u,n,null,!1)),c.push(r.o=new cn(u,null,r,!0))}}),a.length){for(c.sort(t),fn(a),fn(c),o=0,u=c.length;o<u;++o)c[o].e=r=!r;for(var l,f,p=a[0];;){for(var s=p,h=!0;s.v;)if((s=s.n)===p)return;l=s.z,e.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(o=0,u=l.length;o<u;++o)e.point((f=l[o])[0],f[1]);else i(s.x,s.n.x,1,e);s=s.n}else{if(h)for(l=s.p.z,o=l.length-1;o>=0;--o)e.point((f=l[o])[0],f[1]);else i(s.x,s.p.x,-1,e);s=s.p}s=s.o,l=s.z,h=!h}while(!s.v);e.lineEnd()}}}function fn(n){if(t=n.length){for(var t,r,i=0,e=n[0];++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function pn(n,r,i,e){function o(t,o){return n<=t&&t<=i&&r<=o&&o<=e}function u(t,o,u,c){var f=0,p=0;if(null==t||(f=a(t,u))!==(p=a(o,u))||l(t,o)<0^u>0){do c.point(0===f||3===f?n:i,f>1?e:r);while((f=(f+u+4)%4)!==p)}else c.point(o[0],o[1])}function a(t,e){return xr(t[0]-n)<hr?e>0?0:3:xr(t[0]-i)<hr?e>0?2:1:xr(t[1]-r)<hr?e>0?1:0:e>0?3:2}function c(n,t){return l(n.x,t.x)}function l(n,t){var r=a(n,1),i=a(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n,t){o(n,t)&&A.point(n,t)}function f(){for(var t=0,r=0,i=E.length;r<i;++r)for(var o,u,a=E[r],c=1,l=a.length,f=a[0],p=f[0],s=f[1];c<l;++c)o=p,u=s,f=a[c],p=f[0],s=f[1],u<=e?s>e&&(p-o)*(e-u)>(s-u)*(n-o)&&++t:s<=e&&(p-o)*(e-u)<(s-u)*(n-o)&&--t;return t}function p(){A=j,d=[],E=[],R=!0}function s(){var n=f(),r=R&&n,i=(d=t.merge(d)).length;(r||i)&&(a.polygonStart(),r&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),i&&ln(d,c,n,u,a),a.polygonEnd()),A=a,d=E=S=null}function h(){P.point=v,E&&E.push(S=[]),w=!0,N=!1,M=_=NaN}function g(){d&&(v(y,m),x&&N&&j.rejoin(),d.push(j.result())),P.point=l,N&&A.lineEnd()}function v(t,u){var a=o(t,u);if(E&&S.push([t,u]),w)y=t,m=u,x=a,w=!1,a&&(A.lineStart(),A.point(t,u));else if(a&&N)A.point(t,u);else{var c=[M=Math.max($r,Math.min(Yr,M)),_=Math.max($r,Math.min(Yr,_))],l=[t=Math.max($r,Math.min(Yr,t)),u=Math.max($r,Math.min(Yr,u))];un(c,l,n,r,i,e)?(N||(A.lineStart(),A.point(c[0],c[1])),A.point(l[0],l[1]),a||A.lineEnd(),R=!1):a&&(A.lineStart(),A.point(t,u),R=!1)}M=t,_=u,N=a}var d,E,S,y,m,x,M,_,N,w,R,A=a,j=on(),P={point:l,lineStart:h,lineEnd:g,polygonStart:p,polygonEnd:s};return P}}function sn(){var n,t,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=pn(i,e,o,u)(t=r)},extent:function(a){return arguments.length?(i=+a[0][0],e=+a[0][1],o=+a[1][0],u=+a[1][1],n=t=null,r):[[i,e],[o,u]]}}}function hn(){ti.point=vn,ti.lineEnd=gn}function gn(){ti.point=ti.lineEnd=c}function vn(n,t){n*=mr,t*=mr,Br=n,Dr=Pr(t),Ur=Nr(t),ti.point=dn}function dn(n,t){n*=mr,t*=mr;var r=Pr(t),i=Nr(t),e=xr(n-Br),o=Nr(e),u=Pr(e),a=i*u,c=Ur*r-Dr*i*o,l=Dr*r+Ur*i*o;ni.add(_r(qr(a*a+c*c),l)),Br=n,Dr=r,Ur=i}function En(n){return ni.reset(),s(n,ti),+ni}function Sn(n,t){return ri[0]=n,ri[1]=t,En(ii)}function yn(n,r,i){var e=t.range(n,r-hr,i).concat(r);return function(n){return e.map(function(t){return[n,t]})}}function mn(n,r,i){var e=t.range(n,r-hr,i).concat(r);return function(n){return e.map(function(t){return[t,n]})}}function xn(){function n(){return{type:"MultiLineString",coordinates:r()}}function r(){return t.range(wr(u/E)*E,o,E).map(h).concat(t.range(wr(f/S)*S,l,S).map(g)).concat(t.range(wr(e/v)*v,i,v).filter(function(n){return xr(n%E)>hr}).map(p)).concat(t.range(wr(c/d)*d,a,d).filter(function(n){return xr(n%S)>hr}).map(s))}var i,e,o,u,a,c,l,f,p,s,h,g,v=10,d=v,E=90,S=360,y=2.5;return n.lines=function(){return r().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(g(l).slice(1),h(o).reverse().slice(1),g(f).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(u=+t[0][0],o=+t[1][0],f=+t[0][1],l=+t[1][1],u>o&&(t=u,u=o,o=t),f>l&&(t=f,f=l,l=t),n.precision(y)):[[u,f],[o,l]]},n.extentMinor=function(t){return arguments.length?(e=+t[0][0],i=+t[1][0],c=+t[0][1],a=+t[1][1],e>i&&(t=e,e=i,i=t),c>a&&(t=c,c=a,a=t),n.precision(y)):[[e,c],[i,a]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(E=+t[0],S=+t[1],n):[E,S]},n.stepMinor=function(t){return arguments.length?(v=+t[0],d=+t[1],n):[v,d]},n.precision=function(t){return arguments.length?(y=+t,p=yn(c,a,90),s=mn(e,i,y),h=yn(f,l,90),g=mn(u,o,y),n):y},n.extentMajor([[-180,-90+hr],[180,90-hr]]).extentMinor([[-180,-80-hr],[180,80+hr]])}function Mn(n,t){var r=n[0]*mr,i=n[1]*mr,e=t[0]*mr,o=t[1]*mr,c=Nr(i),l=Pr(i),f=Nr(o),p=Pr(o),s=c*Nr(r),h=c*Pr(r),g=f*Nr(e),v=f*Pr(e),d=2*u(qr(a(o-i)+c*f*a(e-r))),E=Pr(d),S=d?function(n){var t=Pr(n*=d)/E,r=Pr(d-n)/E,i=r*s+t*g,e=r*h+t*v,o=r*l+t*p;return[_r(e,i)*yr,_r(o,qr(i*i+e*e))*yr]}:function(){return[r*yr,i*yr]};return S.distance=d,S}function _n(n){return n}function Nn(){ui.point=wn}function wn(n,t){ui.point=Rn,Zr=Jr=n,Hr=Kr=t}function Rn(n,t){oi.add(Kr*n-Jr*t),Jr=n,Kr=t}function An(){Rn(Zr,Hr)}function jn(n,t){n<ai&&(ai=n),n>li&&(li=n),t<ci&&(ci=t),t>fi&&(fi=t)}function Pn(n,t){si+=n,hi+=t,++gi}function Cn(){xi.point=qn}function qn(n,t){xi.point=bn,Pn(Wr=n,Xr=t)}function bn(n,t){var r=n-Wr,i=t-Xr,e=qr(r*r+i*i);vi+=e*(Wr+n)/2,di+=e*(Xr+t)/2,Ei+=e,Pn(Wr=n,Xr=t)}function zn(){xi.point=Pn}function Ln(){xi.point=Tn}function On(){kn(Qr,Vr)}function Tn(n,t){xi.point=kn,Pn(Qr=Wr=n,Vr=Xr=t)}function kn(n,t){var r=n-Wr,i=t-Xr,e=qr(r*r+i*i);vi+=e*(Wr+n)/2,di+=e*(Xr+t)/2,Ei+=e,e=Xr*n-Wr*t,Si+=e*(Wr+n),yi+=e*(Xr+t),mi+=3*e,Pn(Wr=n,Xr=t)}function Gn(n){this._context=n}function Fn(){this._string=[]}function In(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Bn(){function n(n){return n&&("function"==typeof o&&e.pointRadius(+o.apply(this,arguments)),s(n,r(e))),e.result()}var t,r,i,e,o=4.5;return n.area=function(n){return s(n,r(ui)),ui.result()},n.bounds=function(n){return s(n,r(pi)),pi.result()},n.centroid=function(n){return s(n,r(xi)),xi.result()},n.projection=function(i){return arguments.length?(r=null==(t=i)?_n:i.stream,n):t},n.context=function(t){return arguments.length?(e=null==(i=t)?new Fn:new Gn(t),"function"!=typeof o&&e.pointRadius(o),n):i},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(e.pointRadius(+t),+t),n):o},n.projection(null).context(null)}function Dn(n,t){var r=t[0],i=t[1],e=[Pr(r),-Nr(r),0],o=0,a=0;Mi.reset();for(var c=0,l=n.length;c<l;++c)if(p=(f=n[c]).length)for(var f,p,s=f[p-1],h=s[0],g=s[1]/2+Er,v=Pr(g),d=Nr(g),E=0;E<p;++E,h=m,v=_,d=w,s=S){var S=f[E],m=S[0],M=S[1]/2+Er,_=Pr(M),w=Nr(M),R=m-h,A=R>=0?1:-1,j=A*R,P=j>vr,C=v*_;if(Mi.add(_r(C*A*Pr(j),d*w+C*Nr(j))),o+=P?R+A*Sr:R,P^h>=r^m>=r){var q=x(y(s),y(S));N(q);var b=x(e,q);N(b);var z=(P^R>=0?-1:1)*u(b[2]);(i>z||i===z&&(q[0]||q[1]))&&(a+=P^R>=0?1:-1)}}return(o<-hr||o<hr&&Mi<-hr)^1&a}function Un(n,r,i,e){return function(o,u){function a(t,r){var i=o(t,r);n(t=i[0],r=i[1])&&u.point(t,r)}function c(n,t){var r=o(n,t);E.point(r[0],r[1])}function l(){M.point=c,E.lineStart()}function f(){M.point=a,E.lineEnd()}function p(n,t){d.push([n,t]);var r=o(n,t);m.point(r[0],r[1])}function s(){m.lineStart(),d=[]}function h(){p(d[0][0],d[0][1]),m.lineEnd();var n,t,r,i,e=m.clean(),o=y.result(),a=o.length;if(d.pop(),g.push(d),d=null,a)if(1&e){if(r=o[0],(t=r.length-1)>0){for(x||(u.polygonStart(),x=!0),u.lineStart(),n=0;n<t;++n)u.point((i=r[n])[0],i[1]);u.lineEnd()}}else a>1&&2&e&&o.push(o.pop().concat(o.shift())),v.push(o.filter(Zn))}var g,v,d,E=r(u),S=o.invert(e[0],e[1]),y=on(),m=r(y),x=!1,M={point:a,lineStart:l,lineEnd:f,polygonStart:function(){M.point=p,M.lineStart=s,M.lineEnd=h,v=[],g=[]},polygonEnd:function(){M.point=a,M.lineStart=l,M.lineEnd=f,v=t.merge(v);var n=Dn(g,S);v.length?(x||(u.polygonStart(),x=!0),ln(v,Hn,n,i,u)):n&&(x||(u.polygonStart(),x=!0),u.lineStart(),i(null,null,1,u),u.lineEnd()),x&&(u.polygonEnd(),x=!1),v=g=null},sphere:function(){u.polygonStart(),u.lineStart(),i(null,null,1,u),u.lineEnd(),u.polygonEnd()}};return M}}function Zn(n){return n.length>1}function Hn(n,t){return((n=n.x)[0]<0?n[1]-dr-hr:dr-n[1])-((t=t.x)[0]<0?t[1]-dr-hr:dr-t[1])}function Jn(n){var t,r=NaN,i=NaN,e=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var a=o>0?vr:-vr,c=xr(o-r);xr(c-vr)<hr?(n.point(r,i=(i+u)/2>0?dr:-dr),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(a,i),n.point(o,i),t=0):e!==a&&c>=vr&&(xr(r-e)<hr&&(r-=e*hr),xr(o-a)<hr&&(o-=a*hr),i=Kn(r,i,o,u),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(a,i),t=0),n.point(r=o,i=u),e=a},lineEnd:function(){n.lineEnd(),r=i=NaN},clean:function(){return 2-t}}}function Kn(n,t,r,i){var e,o,u=Pr(n-r);return xr(u)>hr?Mr((Pr(t)*(o=Nr(i))*Pr(r)-Pr(i)*(e=Nr(t))*Pr(n))/(e*o*u)):(t+i)/2}function Qn(n,t,r,i){var e;if(null==n)e=r*dr,i.point(-vr,e),i.point(0,e),i.point(vr,e),i.point(vr,0),i.point(vr,-e),i.point(0,-e),i.point(-vr,-e),i.point(-vr,0),i.point(-vr,e);else if(xr(n[0]-t[0])>hr){var o=n[0]<t[0]?vr:-vr;e=r*o/2,i.point(-o,e),i.point(0,e),i.point(o,e)}else i.point(t[0],t[1])}function Vn(n,t){function r(r,i,e,o){tn(o,n,t,e,r,i)}function i(n,t){return Nr(n)*Nr(t)>a}function e(n){var t,r,e,a,f;return{lineStart:function(){a=e=!1,f=1},point:function(p,s){var h,g=[p,s],v=i(p,s),d=c?v?0:u(p,s):v?u(p+(p<0?vr:-vr),s):0;if(!t&&(a=e=v)&&n.lineStart(),v!==e&&(h=o(t,g),(an(t,h)||an(g,h))&&(g[0]+=hr,g[1]+=hr,v=i(g[0],g[1]))),v!==e)f=0,v?(n.lineStart(),h=o(g,t),n.point(h[0],h[1])):(h=o(t,g),n.point(h[0],h[1]),n.lineEnd()),t=h;else if(l&&t&&c^v){var E;d&r||!(E=o(g,t,!0))||(f=0,c?(n.lineStart(),n.point(E[0][0],E[0][1]),n.point(E[1][0],E[1][1]),n.lineEnd()):(n.point(E[1][0],E[1][1]),n.lineEnd(),n.lineStart(),n.point(E[0][0],E[0][1])))}!v||t&&an(t,g)||n.point(g[0],g[1]),t=g,e=v,r=d},lineEnd:function(){e&&n.lineEnd(),t=null},clean:function(){return f|(a&&e)<<1}}}function o(n,t,r){var i=y(n),e=y(t),o=[1,0,0],u=x(i,e),c=m(u,u),l=u[0],f=c-l*l;if(!f)return!r&&n;var p=a*c/f,s=-a*l/f,h=x(o,u),g=_(o,p),v=_(u,s);M(g,v);var d=h,E=m(g,d),N=m(d,d),w=E*E-N*(m(g,g)-1);if(!(w<0)){var R=qr(w),A=_(d,(-E-R)/N);if(M(A,g),A=S(A),!r)return A;var j,P=n[0],C=t[0],q=n[1],b=t[1];C<P&&(j=P,P=C,C=j);var z=C-P,L=xr(z-vr)<hr,O=L||z<hr;if(!L&&b<q&&(j=q,q=b,b=j),O?L?q+b>0^A[1]<(xr(A[0]-P)<hr?q:b):q<=A[1]&&A[1]<=b:z>vr^(P<=A[0]&&A[0]<=C)){var T=_(d,(-E+R)/N);return M(T,g),[A,S(T)]}}}function u(t,r){var i=c?n:vr-n,e=0;return t<-i?e|=1:t>i&&(e|=2),r<-i?e|=4:r>i&&(e|=8),e}var a=Nr(n),c=a>0,l=xr(a)>hr;return Un(i,e,r,c?[0,-n]:[-vr,n-vr])}function Wn(n){return{stream:Xn(n)}}function Xn(n){function t(){}var r=t.prototype=Object.create(Yn.prototype);for(var i in n)r[i]=n[i];return function(n){var r=new t;return r.stream=n,r}}function Yn(){}function $n(n,t,r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),s(r,n.stream(pi));var u=pi.result(),a=Math.min(i/(u[1][0]-u[0][0]),e/(u[1][1]-u[0][1])),c=+t[0][0]+(i-a*(u[1][0]+u[0][0]))/2,l=+t[0][1]+(e-a*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*a).translate([c,l])}function nt(n){return function(t,r){return $n(n,[[0,0],t],r)}}function tt(n){return function(t,r){return $n(n,t,r)}}function rt(n,t){return+t?et(n,t):it(n)}function it(n){return Xn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function et(n,t){function r(i,e,o,a,c,l,f,p,s,h,g,v,d,E){var S=f-i,y=p-e,m=S*S+y*y;if(m>4*t&&d--){var x=a+h,M=c+g,_=l+v,N=qr(x*x+M*M+_*_),w=u(_/=N),R=xr(xr(_)-1)<hr||xr(o-s)<hr?(o+s)/2:_r(M,x),A=n(R,w),j=A[0],P=A[1],C=j-i,q=P-e,b=y*C-S*q;(b*b/m>t||xr((S*C+y*q)/m-.5)>.3||a*h+c*g+l*v<wi)&&(r(i,e,o,a,c,l,j,P,R,x/=N,M/=N,_,d,E),E.point(j,P),r(j,P,R,x,M,_,f,p,s,h,g,v,d,E))}}return function(t){function i(r,i){r=n(r,i),t.point(r[0],r[1])}function e(){E=NaN,_.point=o,t.lineStart()}function o(i,e){var o=y([i,e]),u=n(i,e);r(E,S,d,m,x,M,E=u[0],S=u[1],d=i,m=o[0],x=o[1],M=o[2],Ni,t),t.point(E,S)}function u(){_.point=i,t.lineEnd()}function a(){e(),_.point=c,_.lineEnd=l}function c(n,t){o(f=n,t),p=E,s=S,h=m,g=x,v=M,_.point=o}function l(){r(E,S,d,m,x,M,p,s,f,h,g,v,Ni,t),_.lineEnd=u,u()}var f,p,s,h,g,v,d,E,S,m,x,M,_={point:i,lineStart:e,lineEnd:u,polygonStart:function(){t.polygonStart(),_.lineStart=a},polygonEnd:function(){t.polygonEnd(),_.lineStart=e}};return _}}function ot(n){return ut(function(){return n})()}function ut(n){function t(n){return n=f(n[0]*mr,n[1]*mr),[n[0]*d+a,c-n[1]*d]}function r(n){return n=f.invert((n[0]-a)/d,(c-n[1])/d),n&&[n[0]*yr,n[1]*yr]}function i(n,t){return n=u(n,t),[n[0]*d+a,c-n[1]*d]}function e(){f=Q(l=W(x,M,_),u);var n=u(y,m);return a=E-n[0]*d,c=S+n[1]*d,o()}function o(){return g=v=null,t}var u,a,c,l,f,p,s,h,g,v,d=150,E=480,S=250,y=0,m=0,x=0,M=0,_=0,N=null,w=_i,R=null,A=_n,j=.5,P=rt(i,j);return t.stream=function(n){return g&&v===n?g:g=Ri(w(l,P(A(v=n))))},t.clipAngle=function(n){return arguments.length?(w=+n?Vn(N=n*mr,6*mr):(N=null,_i),o()):N*yr},t.clipExtent=function(n){return arguments.length?(A=null==n?(R=p=s=h=null,_n):pn(R=+n[0][0],p=+n[0][1],s=+n[1][0],h=+n[1][1]),o()):null==R?null:[[R,p],[s,h]]},t.scale=function(n){return arguments.length?(d=+n,e()):d},t.translate=function(n){return arguments.length?(E=+n[0],S=+n[1],e()):[E,S]},t.center=function(n){return arguments.length?(y=n[0]%360*mr,m=n[1]%360*mr,e()):[y*yr,m*yr]},t.rotate=function(n){return arguments.length?(x=n[0]%360*mr,M=n[1]%360*mr,_=n.length>2?n[2]%360*mr:0,e()):[x*yr,M*yr,_*yr]},t.precision=function(n){return arguments.length?(P=rt(i,j=n*n),o()):qr(j)},t.fitExtent=tt(t),t.fitSize=nt(t),function(){return u=n.apply(this,arguments),t.invert=u.invert&&r,e()}}function at(n){var t=0,r=vr/3,i=ut(n),e=i(t,r);return e.parallels=function(n){return arguments.length?i(t=n[0]*mr,r=n[1]*mr):[t*yr,r*yr]},e}function ct(n,t){function r(n,t){var r=qr(o-2*e*Pr(t))/e;return[r*Pr(n*=e),a-r*Nr(n)]}var i=Pr(n),e=(i+Pr(t))/2,o=1+i*(2*e-i),a=qr(o)/e;return r.invert=function(n,t){var r=a-t;return[_r(n,r)/e,u((o-(n*n+r*r)*e*e)/(2*e))]},r}function lt(){return at(ct).scale(155.424).center([0,33.6442])}function ft(){return lt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pt(n){var t=n.length;return{point:function(r,i){for(var e=-1;++e<t;)n[e].point(r,i)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function st(){function n(n){var t=n[0],r=n[1];return u=null,i.point(t,r),u||(e.point(t,r),u)||(o.point(t,r),u)}var t,r,i,e,o,u,a=ft(),c=lt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=lt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(n,t){u=[n,t]}};return n.invert=function(n){var t=a.scale(),r=a.translate(),i=(n[0]-r[0])/t,e=(n[1]-r[1])/t;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?c:e>=.166&&e<.234&&i>=-.214&&i<-.115?l:a).invert(n)},n.stream=function(n){return t&&r===n?t:t=pt([a.stream(r=n),c.stream(n),l.stream(n)])},n.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),l.precision(t),n):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),l.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(t){if(!arguments.length)return a.translate();var r=a.scale(),u=+t[0],p=+t[1];return i=a.translate(t).clipExtent([[u-.455*r,p-.238*r],[u+.455*r,p+.238*r]]).stream(f),e=c.translate([u-.307*r,p+.201*r]).clipExtent([[u-.425*r+hr,p+.12*r+hr],[u-.214*r-hr,p+.234*r-hr]]).stream(f),o=l.translate([u-.205*r,p+.212*r]).clipExtent([[u-.214*r+hr,p+.166*r+hr],[u-.115*r-hr,p+.234*r-hr]]).stream(f),n},n.fitExtent=tt(n),n.fitSize=nt(n),n.scale(1070)}function ht(n){return function(t,r){var i=Nr(t),e=Nr(r),o=n(i*e);return[o*e*Pr(t),o*Pr(r)]}}function gt(n){return function(t,r){var i=qr(t*t+r*r),e=n(i),o=Pr(e),a=Nr(e);return[_r(t*o,i*a),u(i&&r*o/i)]}}function vt(){return ot(Ai).scale(124.75).clipAngle(179.999)}function dt(){return ot(ji).scale(79.4188).clipAngle(179.999)}function Et(n,t){return[n,Ar(br((dr+t)/2))]}function St(){return yt(Et).scale(961/Sr)}function yt(n){var t,r=ot(n),i=r.scale,e=r.translate,o=r.clipExtent;return r.scale=function(n){return arguments.length?(i(n),t&&r.clipExtent(null),r):i()},r.translate=function(n){return arguments.length?(e(n),t&&r.clipExtent(null),r):e()},r.clipExtent=function(n){if(!arguments.length)return t?null:o();if(t=null==n){var u=vr*i(),a=e();n=[[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]]}return o(n),r},r.clipExtent(null)}function mt(n){return br((dr+n)/2)}function xt(n,t){function r(n,t){o>0?t<-dr+hr&&(t=-dr+hr):t>dr-hr&&(t=dr-hr);var r=o/jr(mt(t),e);return[r*Pr(e*n),o-r*Nr(e*n)]}var i=Nr(n),e=n===t?Pr(n):Ar(i/Nr(t))/Ar(mt(t)/mt(n)),o=i*jr(mt(n),e)/e;return e?(r.invert=function(n,t){var r=o-t,i=Cr(e)*qr(n*n+r*r);return[_r(n,r)/e,2*Mr(jr(o/i,1/e))-dr]},r):Et}function Mt(){return at(xt).scale(109.5).parallels([30,30])}function _t(n,t){return[n,t]}function Nt(){return ot(_t).scale(152.63)}function wt(n,t){function r(n,t){var r=o-t,i=e*n;return[r*Pr(i),o-r*Nr(i)]}var i=Nr(n),e=n===t?Pr(n):(i-Nr(t))/(t-n),o=i/e+n;return xr(e)<hr?_t:(r.invert=function(n,t){var r=o-t;return[_r(n,r)/e,o-Cr(e)*qr(n*n+r*r)]},r)}function Rt(){return at(wt).scale(131.154).center([0,13.9389])}function At(n,t){var r=Nr(t),i=Nr(n)*r;return[r*Pr(n)/i,Pr(t)/i]}function jt(){return ot(At).scale(144.049).clipAngle(60)}function Pt(n,t){return[Nr(t)*Pr(n),Pr(t)]}function Ct(){return ot(Pt).scale(249.5).clipAngle(90+hr)}function qt(n,t){var r=Nr(t),i=1+Nr(n)*r;return[r*Pr(n)/i,Pr(t)/i]}function bt(){return ot(qt).scale(250).clipAngle(142)}function zt(n,t){return[Ar(br((dr+t)/2)),-n]}function Lt(){var n=yt(zt),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(n){e(sr,n,this.t),e(this,sr.s,this.s),this.s?this.t+=sr.t:this.s=sr.t},valueOf:function(){return this.s}};var Ot,Tt,kt,Gt,Ft,It,Bt,Dt,Ut,Zt,Ht,Jt,Kt,Qt,Vt,Wt,Xt,Yt,$t,nr,tr,rr,ir,er,or,ur,ar,cr,lr,fr,pr,sr=new i,hr=1e-6,gr=1e-12,vr=Math.PI,dr=vr/2,Er=vr/4,Sr=2*vr,yr=180/vr,mr=vr/180,xr=Math.abs,Mr=Math.atan,_r=Math.atan2,Nr=Math.cos,wr=Math.ceil,Rr=Math.exp,Ar=Math.log,jr=Math.pow,Pr=Math.sin,Cr=Math.sign||function(n){return n>0?1:n<0?-1:0},qr=Math.sqrt,br=Math.tan,zr={Feature:function(n,t){l(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)l(r[i].geometry,t)}},Lr={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){f(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)f(r[i],t,0)},Polygon:function(n,t){p(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)p(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)l(r[i],t)}},Or=r(),Tr=r(),kr={point:c,lineStart:c,lineEnd:c,polygonStart:function(){Or.reset(),kr.lineStart=h,kr.lineEnd=g},polygonEnd:function(){var n=+Or;Tr.add(n<0?Sr+n:n),this.lineStart=this.lineEnd=this.point=c},sphere:function(){Tr.add(Sr)}},Gr=r(),Fr={point:w,lineStart:A,lineEnd:j,polygonStart:function(){Fr.point=P,Fr.lineStart=C,Fr.lineEnd=q,Gr.reset(),kr.polygonStart()},polygonEnd:function(){kr.polygonEnd(),Fr.point=w,Fr.lineStart=A,Fr.lineEnd=j,Or<0?(It=-(Dt=180),Bt=-(Ut=90)):Gr>hr?Ut=90:Gr<-hr&&(Bt=-90),Vt[0]=It,Vt[1]=Dt}},Ir={sphere:c,point:T,lineStart:G,lineEnd:B,polygonStart:function(){Ir.lineStart=D,Ir.lineEnd=U},polygonEnd:function(){Ir.lineStart=G,Ir.lineEnd=B}};V.invert=V;var Br,Dr,Ur,Zr,Hr,Jr,Kr,Qr,Vr,Wr,Xr,Yr=1e9,$r=-Yr,ni=r(),ti={sphere:c,point:c,lineStart:hn,lineEnd:c,polygonStart:c,polygonEnd:c},ri=[null,null],ii={type:"LineString",coordinates:ri},ei=r(),oi=r(),ui={point:c,lineStart:c,lineEnd:c,polygonStart:function(){ui.lineStart=Nn,ui.lineEnd=An},polygonEnd:function(){ui.lineStart=ui.lineEnd=ui.point=c,ei.add(xr(oi)),oi.reset()},result:function(){var n=ei/2;return ei.reset(),n}},ai=1/0,ci=ai,li=-ai,fi=li,pi={point:jn,lineStart:c,lineEnd:c,polygonStart:c,polygonEnd:c,result:function(){var n=[[ai,ci],[li,fi]];return li=fi=-(ci=ai=1/0),n}},si=0,hi=0,gi=0,vi=0,di=0,Ei=0,Si=0,yi=0,mi=0,xi={point:Pn,lineStart:Cn,lineEnd:zn,polygonStart:function(){xi.lineStart=Ln,xi.lineEnd=On},polygonEnd:function(){xi.point=Pn,xi.lineStart=Cn,xi.lineEnd=zn},result:function(){var n=mi?[Si/mi,yi/mi]:Ei?[vi/Ei,di/Ei]:gi?[si/gi,hi/gi]:[NaN,NaN];return si=hi=gi=vi=di=Ei=Si=yi=mi=0,n}};Gn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Sr)}},result:c},Fn.prototype={_circle:In(4.5),pointRadius:function(n){return this._circle=In(n),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}}};var Mi=r(),_i=Un(function(){return!0},Jn,Qn,[-vr,-dr]);Yn.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ni=16,wi=Nr(30*mr),Ri=Xn({point:function(n,t){this.stream.point(n*mr,t*mr)}}),Ai=ht(function(n){return qr(2/(1+n))});Ai.invert=gt(function(n){return 2*u(n/2)});var ji=ht(function(n){return(n=o(n))&&n/Pr(n)});ji.invert=gt(function(n){return n}),Et.invert=function(n,t){return[n,2*Mr(Rr(t))-dr]},_t.invert=_t,At.invert=gt(Mr),Pt.invert=gt(u),qt.invert=gt(function(n){return 2*Mr(n)}),zt.invert=function(n,t){return[-t,2*Mr(Rr(n))-dr]},n.geoArea=E,n.geoBounds=O,n.geoCentroid=J,n.geoCircle=en,n.geoClipExtent=sn,n.geoDistance=Sn,n.geoGraticule=xn,n.geoInterpolate=Mn,n.geoLength=En,n.geoPath=Bn,n.geoAlbers=ft,n.geoAlbersUsa=st,n.geoAzimuthalEqualArea=vt,n.geoAzimuthalEqualAreaRaw=Ai,n.geoAzimuthalEquidistant=dt,n.geoAzimuthalEquidistantRaw=ji,n.geoConicConformal=Mt,n.geoConicConformalRaw=xt,n.geoConicEqualArea=lt,n.geoConicEqualAreaRaw=ct,n.geoConicEquidistant=Rt,n.geoConicEquidistantRaw=wt,n.geoEquirectangular=Nt,n.geoEquirectangularRaw=_t,n.geoGnomonic=jt,n.geoGnomonicRaw=At,n.geoProjection=ot,n.geoProjectionMutator=ut,n.geoMercator=St,n.geoMercatorRaw=Et,n.geoOrthographic=Ct,n.geoOrthographicRaw=Pt,n.geoStereographic=bt,n.geoStereographicRaw=qt,n.geoTransverseMercator=Lt,n.geoTransverseMercatorRaw=zt,n.geoRotation=nn,n.geoStream=s,n.geoTransform=Wn,Object.defineProperty(n,"__esModule",{value:!0})});