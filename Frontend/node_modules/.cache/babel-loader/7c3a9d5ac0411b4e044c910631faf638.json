{"remainingRequest":"E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\ConstructionConsultationSystem\\Frontend\\src\\utils\\helper\\permission.js","dependencies":[{"path":"E:\\ConstructionConsultationSystem\\Frontend\\src\\utils\\helper\\permission.js","mtime":1553931800010},{"path":"E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\ConstructionConsultationSystem\\Frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"E:\\\\ConstructionConsultationSystem\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/slicedToArray\";\nimport _Object$defineProperties from \"E:\\\\ConstructionConsultationSystem\\\\Frontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/define-properties\";\nvar PERMISSION_ENUM = {\n  'add': {\n    key: 'add',\n    label: '新增'\n  },\n  'delete': {\n    key: 'delete',\n    label: '删除'\n  },\n  'edit': {\n    key: 'edit',\n    label: '修改'\n  },\n  'query': {\n    key: 'query',\n    label: '查询'\n  },\n  'get': {\n    key: 'get',\n    label: '详情'\n  },\n  'enable': {\n    key: 'enable',\n    label: '启用'\n  },\n  'disable': {\n    key: 'disable',\n    label: '禁用'\n  },\n  'import': {\n    key: 'import',\n    label: '导入'\n  },\n  'export': {\n    key: 'export',\n    label: '导出'\n  }\n};\n\nfunction plugin(Vue) {\n  if (plugin.installed) {\n    return;\n  }\n\n  !Vue.prototype.$auth && _Object$defineProperties(Vue.prototype, {\n    $auth: {\n      get: function get() {\n        var _this = this;\n\n        return function (permissions) {\n          var _permissions$split = permissions.split('.'),\n              _permissions$split2 = _slicedToArray(_permissions$split, 2),\n              permission = _permissions$split2[0],\n              action = _permissions$split2[1];\n\n          var permissionList = _this.$store.getters.roles.permissions;\n          permissionList.find(function (val) {\n            return val.name === permission;\n          }).actionList.findIndex(function (val) {\n            return val === action;\n          });\n          return false;\n        };\n      }\n    }\n  });\n  !Vue.prototype.$enum && _Object$defineProperties(Vue.prototype, {\n    $enum: {\n      get: function get() {\n        // const _this = this;\n        return function (val) {\n          var result = PERMISSION_ENUM;\n          val && val.split('.').forEach(function (v) {\n            result = result && result[v] || null;\n          });\n          return result;\n        };\n      }\n    }\n  });\n}\n\nexport default plugin;",{"version":3,"sources":["E:\\ConstructionConsultationSystem\\Frontend\\src\\utils\\helper\\permission.js"],"names":["PERMISSION_ENUM","key","label","plugin","Vue","installed","prototype","$auth","get","_this","permissions","split","permission","action","permissionList","$store","getters","roles","find","val","name","actionList","findIndex","$enum","result","forEach","v"],"mappings":";;;;;;AAAA,IAAMA,eAAe,GAAG;AACtB,SAAO;AAAEC,IAAAA,GAAG,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE;AAArB,GADe;AAEtB,YAAU;AAAED,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GAFY;AAGtB,UAAQ;AAAED,IAAAA,GAAG,EAAE,MAAP;AAAeC,IAAAA,KAAK,EAAE;AAAtB,GAHc;AAItB,WAAS;AAAED,IAAAA,GAAG,EAAE,OAAP;AAAgBC,IAAAA,KAAK,EAAE;AAAvB,GAJa;AAKtB,SAAO;AAAED,IAAAA,GAAG,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE;AAArB,GALe;AAMtB,YAAU;AAAED,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GANY;AAOtB,aAAW;AAAED,IAAAA,GAAG,EAAE,SAAP;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAPW;AAQtB,YAAU;AAAED,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GARY;AAStB,YAAU;AAAED,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB;AATY,CAAxB;;AAYA,SAASC,MAAT,CAAiBC,GAAjB,EAAsB;AACpB,MAAID,MAAM,CAACE,SAAX,EAAsB;AACpB;AACD;;AAED,GAACD,GAAG,CAACE,SAAJ,CAAcC,KAAf,IAAwB,yBAAwBH,GAAG,CAACE,SAA5B,EAAuC;AAC7DC,IAAAA,KAAK,EAAE;AACLC,MAAAA,GADK,iBACE;AACL,YAAMC,KAAK,GAAG,IAAd;;AACA,eAAO,UAACC,WAAD,EAAiB;AAAA,mCACOA,WAAW,CAACC,KAAZ,CAAkB,GAAlB,CADP;AAAA;AAAA,cACfC,UADe;AAAA,cACHC,MADG;;AAEtB,cAAMC,cAAc,GAAGL,KAAK,CAACM,MAAN,CAAaC,OAAb,CAAqBC,KAArB,CAA2BP,WAAlD;AACAI,UAAAA,cAAc,CAACI,IAAf,CAAoB,UAACC,GAAD,EAAS;AAC3B,mBAAOA,GAAG,CAACC,IAAJ,KAAaR,UAApB;AACD,WAFD,EAEGS,UAFH,CAEcC,SAFd,CAEwB,UAACH,GAAD,EAAS;AAC/B,mBAAOA,GAAG,KAAKN,MAAf;AACD,WAJD;AAKA,iBAAO,KAAP;AACD,SATD;AAUD;AAbI;AADsD,GAAvC,CAAxB;AAkBA,GAACT,GAAG,CAACE,SAAJ,CAAciB,KAAf,IAAwB,yBAAwBnB,GAAG,CAACE,SAA5B,EAAuC;AAC7DiB,IAAAA,KAAK,EAAE;AACLf,MAAAA,GADK,iBACE;AACL;AACA,eAAO,UAACW,GAAD,EAAS;AACd,cAAIK,MAAM,GAAGxB,eAAb;AACAmB,UAAAA,GAAG,IAAIA,GAAG,CAACR,KAAJ,CAAU,GAAV,EAAec,OAAf,CAAuB,UAAAC,CAAC,EAAI;AACjCF,YAAAA,MAAM,GAAGA,MAAM,IAAIA,MAAM,CAACE,CAAD,CAAhB,IAAuB,IAAhC;AACD,WAFM,CAAP;AAGA,iBAAOF,MAAP;AACD,SAND;AAOD;AAVI;AADsD,GAAvC,CAAxB;AAcD;;AAED,eAAerB,MAAf","sourcesContent":["const PERMISSION_ENUM = {\r\n  'add': { key: 'add', label: '新增' },\r\n  'delete': { key: 'delete', label: '删除' },\r\n  'edit': { key: 'edit', label: '修改' },\r\n  'query': { key: 'query', label: '查询' },\r\n  'get': { key: 'get', label: '详情' },\r\n  'enable': { key: 'enable', label: '启用' },\r\n  'disable': { key: 'disable', label: '禁用' },\r\n  'import': { key: 'import', label: '导入' },\r\n  'export': { key: 'export', label: '导出' }\r\n}\r\n\r\nfunction plugin (Vue) {\r\n  if (plugin.installed) {\r\n    return\r\n  }\r\n\r\n  !Vue.prototype.$auth && Object.defineProperties(Vue.prototype, {\r\n    $auth: {\r\n      get () {\r\n        const _this = this\r\n        return (permissions) => {\r\n          const [permission, action] = permissions.split('.')\r\n          const permissionList = _this.$store.getters.roles.permissions\r\n          permissionList.find((val) => {\r\n            return val.name === permission\r\n          }).actionList.findIndex((val) => {\r\n            return val === action\r\n          })\r\n          return false\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  !Vue.prototype.$enum && Object.defineProperties(Vue.prototype, {\r\n    $enum: {\r\n      get () {\r\n        // const _this = this;\r\n        return (val) => {\r\n          let result = PERMISSION_ENUM\r\n          val && val.split('.').forEach(v => {\r\n            result = result && result[v] || null\r\n          })\r\n          return result\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport default plugin\r\n"]}]}