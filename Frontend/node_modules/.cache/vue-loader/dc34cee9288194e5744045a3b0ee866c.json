{"remainingRequest":"E:\\FoodProductManagementSystem\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\FoodProductManagementSystem\\Frontend\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\FoodProductManagementSystem\\Frontend\\src\\views\\detail\\Detail.vue","mtime":1572857662643},{"path":"E:\\FoodProductManagementSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\FoodProductManagementSystem\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\FoodProductManagementSystem\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\FoodProductManagementSystem\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../../api/project'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Detail',\n  data () {\n    return {\n      layout: {\n        xs: { span: 24 },\n        sm: { span: 12 },\n        xl: { span: 8 }\n      },\n      project: null\n    }\n  },\n  mounted () {\n    this.getData()\n  },\n  methods: {\n    ...mapGetters(['projectSelected']),\n    getData () {\n      api.getProject(this.projectSelected().id)\n        .then(data => {\n          if (data.cost) {\n            data.cost += '万元'\n          }\n          if (data.investment) {\n            data.investment += '万元'\n          }\n          console.log(data)\n          this.project = data\n        })\n    },\n    handleFinish () {\n      alert('竣工')\n    }\n  }\n}\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\r\n  <a-card class=\"detail\" v-if=\"project\">\r\n    <a-row>\r\n      <a-col\r\n        :xs=\"{span: 20, offset: 2}\"\r\n        :sm=\"{span: 16, offset: 4}\"\r\n        :xl=\"{span: 12, offset: 6}\">\r\n        <img v-if=\"project.images\" class=\"img\" :src=\"project.images.url\" alt=\"项目图片\">\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <a-card>\r\n      <template slot=\"title\">\r\n        <span style=\"font-size: 18px;\">项目信息</span>\r\n      </template>\r\n      <a-row>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">项目名称:</span>{{ project.name }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">项目编号:</span>{{ project.id }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">建设地点:</span>{{ project.place }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">工程规模:</span>{{ project.scale }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">性质:</span>{{ project.property }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">用途:</span>{{ project.purpose}}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">资金来源:</span><span v-for=\"item in project.fund_sources\">{{ item.label }} </span>\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">结构形式:</span>{{ project.style}}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">总建筑面积:</span>{{ project.area }}平方米\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">开工日期:</span>{{ project.starting_date }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">预计竣工日期:</span>{{ project.finishing_date }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">工程总造价:</span>{{ project.cost }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">投资额:</span>{{ project.investment }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">施工条件:</span>{{ project.condition }}\r\n        </a-col>\r\n        <a-col\r\n          class=\"item\"\r\n          v-bind=\"layout\">\r\n          <span class=\"label\">项目简介:</span>{{ project.introduction }}\r\n        </a-col>\r\n      </a-row>\r\n    </a-card>\r\n    <a-button\r\n      type=\"primary\"\r\n      class=\"btn\"\r\n      @click=\"$router.push({name: 'gps'})\">\r\n      项目定位\r\n    </a-button>\r\n    <a-button\r\n      type=\"primary\"\r\n      class=\"btn\"\r\n      @click=\"$router.push({name: 'projectEdit'})\">\r\n      编辑\r\n    </a-button>\r\n    <a-popconfirm title=\"是否完成了工程?\" @confirm=\"handleFinish\" okText=\"确定\" cancelText=\"取消\">\r\n      <a-button\r\n        type=\"danger\"\r\n        class=\"btn\">\r\n        竣工\r\n      </a-button>\r\n    </a-popconfirm>\r\n  </a-card>\r\n  <a-card v-else>\r\n    <a-skeleton active/>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\n  import api from '../../api/project'\r\n  import { mapGetters } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Detail',\r\n    data () {\r\n      return {\r\n        layout: {\r\n          xs: { span: 24 },\r\n          sm: { span: 12 },\r\n          xl: { span: 8 }\r\n        },\r\n        project: null\r\n      }\r\n    },\r\n    mounted () {\r\n      this.getData()\r\n    },\r\n    methods: {\r\n      ...mapGetters(['projectSelected']),\r\n      getData () {\r\n        api.getProject(this.projectSelected().id)\r\n          .then(data => {\r\n            if (data.cost) {\r\n              data.cost += '万元'\r\n            }\r\n            if (data.investment) {\r\n              data.investment += '万元'\r\n            }\r\n            console.log(data)\r\n            this.project = data\r\n          })\r\n      },\r\n      handleFinish () {\r\n        alert('竣工')\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import '~ant-design-vue/es/style/themes/default';\r\n\r\n  .detail {\r\n    .item {\r\n      margin: 10px 0;\r\n\r\n      .label {\r\n        padding-right: 6px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .img {\r\n      display: block;\r\n      margin: 0 auto 20px auto;\r\n      width: 100%;\r\n      border-radius: @border-radius-base;\r\n      box-shadow: 0 0 5px @shadow-color;\r\n    }\r\n\r\n    .btn {\r\n      float: right;\r\n      margin: 20px 0 0 10px;\r\n    }\r\n  }\r\n</style>\r\n"]}]}